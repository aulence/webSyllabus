<root data-root="JavaScript字符串">
    <!-- 字符串详解 -->
    <section>
        <h3>字符串详解</h3>
        <p>在JavaScript中，所谓的字符串就是包含在英文“双引号”或‘单引号’中的内容，可以是数字、运算符号、各国语言、特殊编码字符，甚至还能是HTML的标签。也就是说，只要符合在“双引号”或‘单引号’中这个要求，计算机文本中的内容基本上都可以成为一个字符串。</p>
        <p>获取一个字符串的途径非常多，特别是在进行表单操作的的时候，通过表单输入框（包括input标签的type属性为text、password、number、email、tel、date等的时候）哪怕是在输入一个纯数字的时候，得到的都是一个字符串。还有通过JS获取DOM元素节点中文本的<em title="获取到的文本内容会保留DOM上的结构">innerText</em>和<em title="获取到的文本内容不会保留DOM上的结构">textContent</em>属性得到的字符也是一个字符串。</p>
        <p>我们先来看从一系列的表单元素中获取到的值的数据类型的例子：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-278.jpg">
        </code>
        <p>打开浏览器控制台后，得到的结果为：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-279.jpg">
        </code>
        <p>再来看一个通过innerText属性和textContent属性获取到的文本内容的数据类型的例子：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-280.jpg">
        </code>
        <p>打开浏览器控制台后，得到的结果为：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-281.jpg">
        </code>
	</section>
	<section>
        <h3>字符串的引号使用规则</h3>
        <p>在使用字符串的引号时需要注意，如果一个字符串已经使用过引号，若需要再在字符串内使用引号需要使用另外一个引号，即双引号内使用单引号，单引号内使用双引号，或者使用<em>转义符“\”</em>对同样的引号进行转换，多层引号嵌套，该规则同样适用，如：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-076.jpg">
        </code>
        <p>在控制台中逐行运行的结果为：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-077.jpg">
        </code>
        <p>需要了解的一个字符串的常识就是，字符串不能直接分成多行去写，否则浏览器会报错。但如果，每行都加上完整的引号，返回的值又只会有最后一个字符串，不能获取到完整的字符串。可以通过以下示例进行观察：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-078.jpg">
        </code>
        <p>如果字符串过长，需要进行换行使视觉层次上更加地清晰，那需要这样去写：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-079.jpg">
        </code>
        <p>如果使用上例中的“\”进行字符串的分行需要特别注意的是，在“\”后除了换行符之外不能加上任何符号，包括空格，否则浏览器会报出“无效或意外的标记（Invalid or unexpected token）”的错误。考虑到这一点，实际程序中更多地是使用字符串拼接符“+”来拼接字符串，一来可以避免“\”产生的歧义（因为它是一个转义操作符），二来也不用小心翼翼地防止出现“习惯性空格”带来的错误。</p>
	</section>
	<section>
        <h3>字符串和Unicode</h3>
        <p>反斜杠“\”在字符串中有特殊用途，用来表示一些特殊的字符，所以又称<em>转义操作符</em>（简称：转义符），以下是一些常用转义符的表示法：（小括号中的值表示法为<em title="用于表示计算机中的字符，覆盖面相当广，甚至包含中日韩绝大部分的文字">Unicode</em>）</p>
        <ul class="indent">
            <li>\0（或：\u0000）用于表示：null</li>
            <li>\b（或：\u0008）用于表示：后退键</li>
            <li>\f（或：\u000C）用于表示：换页符</li>
            <li>\n（或：\u000A）用于表示：换行符</li>
            <li>\r（或：\u000D）用于表示：回车键</li>
            <li>\t（或：\u0009）用于表示：制表符</li>
            <li>\v（或：\u000B）用于表示：垂直制表符</li>
            <li>\'（或：\u0027）用于表示：单引号</li>
            <li>\"（或：\u0022）用于表示：双引号</li>
            <li>\ （或：\u005C）用于表示：反斜杠</li>
        </ul>
        <p>当然，转义符远不止上面列出的这些，每个Unicode码都有各自对应的字符，如“"\251"”（八进制表示法）、“\xA9”（十六进制两位表示法）和“\u00A9”（十六进制四位表示法）就是用于输出版权符号“&copy;”的（在HTML中表示版权符号的是“&amp;copy;”）。需要注意的是转义符本身也是字符串，在使用的时候也需要加上英文的引号。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-080.jpg">
        </code>
        <p>另外，在“非特殊”字符前面加上转义符“\”，那“\”会被省略掉，如果需要输出“\”，那就需要写成“\\”的形式。但是要特别注意那些有实际作用的转义符对输出内容的影响，如：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-081.jpg">
        </code>
        <p>在JavaScript引擎内部，所有字符都用Unicode表示，它不仅以Unicode储存字符，还允许直接在程序中使用Unicode编号表示字符。解析代码的时候，JavaScript会自动识别一个字符是字面形式表示，还是Unicode形式表示。输出给用户的时候，所有字符都会转成字面形式。其实也就是说，任何JavaScript中允许的字符都是可以通过Unicode来表示的。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-282.jpg">
        </code>
        <p>如果是想将一个串现成的字符转换为十六进制的Unicode的话，需要通过<em>str.charCodeAt()</em>（这里的“str”表示原字符串）方法获取字符串需要转换字符的下标索引来转换为一个数字编码值。这个时候再通过字符串的原型方法“toString(16)”将刚才得到的数字编码值转化为一个十六进制的字符，并在这个十六进制的字符的前面拼接上“\u”，就可以得到一个十六进制表示法的Unicode了。</p>
        <p>我们通过编写一个带下标索引的参数的函数，将一段名为“这是字符串”的字符串逐次调用来返回得到的Unicode：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-283.jpg">
        </code>
        <p>在控制台内通过添加不同的下标参数逐次调用该函数得到的结果为：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-284.jpg">
        </code>
        <p>另外，我们还可以利用字符串原型的方法<em>String.fromCharCode(numCode)</em>（这里的“numCode”为转换出的数字编码）将“str.charCodeAt()”得出数字编码结果，又从新转换为原来的字符串：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-285.jpg">
        </code>
        <p>在控制台调用该函数得到的结果为：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-286.jpg">
        </code>
        <p>我们还需要知道，每个字符在JavaScript内部都是以16位（即2个字节）的UTF-16格式储存。也就是说，JavaScript的单位字符长度固定为16位长度，即2个字节。</p>
	</section>
	<section>
        <h3>字符串和数组</h3>
        <p>通过上一章中学习的内容可以发现“parseInt()”和“parseFloat()”方法可以将字符串转换为数值，同时也能对数组元素中的第一个元素进行数值转化。这说明在某种程度上，字符串和数组是有一点联系的。实际上，数组拥有的很多属性，字符串也同样具备。来看这样一个控制台输出例子：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-082.jpg">
        </code>
        <p>通过上例可以清晰地发现，字符串和数组是很相似的。实际上，数组和字符串是可以互相转换的，这就需要用到两个方法：“<em title="这是字符串转换为数组的方法">String.split()</em>”和“<em title="这是数组转换为字符串的方法">Array.join()</em>”。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-083.jpg">
        </code>
        <p>从上例可以分析出“split()”方法可以将一个数组，转换为一个字符串，若添加一个用引号引起来的参数，得出的数组就会以该参数进行分割（上例中使用的是“,”作为参数，用其它字符作为参数同样可行），若所给参数是一个空引号""，则形成的数组会合并为一个数组元素项。</p>
        <p>同样的，“join()”方法是将一个数组元素转换为一个字符串，根据给出的参数对结果中的字符串进行分割，或者不进行分割。当然，这两个方法也可以不给出参数，用它们内置的默认值进行处理，如：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-084.jpg">
        </code>
        <p>直接用下标索引（str[index]）访问一个字符串的方式，是在ECMAScript第3版中新增的方式，对IE8之前的浏览器是不支持的，如果要兼容老版本浏览器建议使用<em>charAt()</em>这个方法。除了浏览器兼容性的区别外，这两个方法还有一个区别就是，直接使用字符串索引的方法去查找查找一个不存在的字符返回的是dundefined，而通过charAt()方法得到的是一个空字符串，这是这两种方式除了在浏览器兼容性以外的第二处差别。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-287.jpg">
        </code>
    </section>
    <!-- 字符串包装对象 -->
    <section>
        <h3>字符串包装对象</h3>
        <p>在JavaScript中“对象”主要分为两大类，一类称作“<em>包装对象</em>”，一类称作“<em>内置对象</em>”。从编码角度讲，它们的区别是在使用了“<em>Object()</em>”方法后是否还“全等于”自身（即“===”，若使用“==”那任何数据类型都等于使用了Object()之后的值），若不等于自身，那就是一个“包装对象”；若等于自身，那就是一个“内置对象”，具体内容我们会在“JavaScript对象”一章中进行详细讲解。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-288.jpg">
        </code>
        <p>字符串是JavaScript原生提供的<em title="数值型、字符串和布尔型">三个包装对象</em>之一，用来生成字符串的包装对象。既然作为对象的字符串肯定就有自己的方法。如“<em>valueOf()</em>”方法就是用于返回对象所包装的那个字符串。字符串的包装对象是一个<em title="具有一定数组的特性，但不能使用数组的那些特有的方法">类似数组</em>的对象（注意观察运行结果中的第一个单词“String”就能发现）。</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-087.jpg">
        </code>
        <p>上面提到了，只要是对象，就有自己的特定的方法，有些方法是所有对象公有的，有些方法是“该类对象”（同样是对象却有不同种类的划分）私有的。共有的方法无论是“包装对象”还是“内置对象”都可以使用，而私有的方法，只有指定类型的对象可以使用（有的方法可以有两种或以上的数据类型可以使用，如后面会讲到的“concat()”等方法）。下面我们就来看一下字符串包装对象提供了那些方法。</p>
	</section>
    <section>
        <h3>String()方法</h3>
        <p>该方法除了可以作为构造函数，实际上它可以将JavaScript任何允许类型的值都转换为字符串：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-088.jpg">
        </code>
        <p>从上面例子中控制台输出的结果可以发现，JavaScript六种数据类型都可以转换为字符串。object（对象型）稍微有一些特殊，对于数组型的对象转换为了一串去掉方括号的字符串，对于普通对象又转换成了加上方括号，并且里面的值变成了“object Object”的形式。可见，对象是一种比较特殊的数据格式，这在后面我们会对对象这个类型进行详细讲解。</p>
	</section>
    <section>
        <h3>toString()方法</h3>
        <p>该方法通常来讲，在作用是和String()方法基本没有什么区别，只是String()方法需要将操作数放置于括号内作为一个参数，而toString()是对一个操作数使用的方法。若要深究两者的区别，相比String()方法，toString()方法不能对“null”和“undefined”进行转换（但意外的是它对“NaN”是可以的转换的），浏览器会报错。还有一点区别就是toString()方法能将一个数值型转换为2~36之间进制的字符串（这和使用parseInt()方法将指定进制的数转换成十进制的数相比刚好是一个逆向操作），这点String()就办不到了。</p>
        <p>我们先看来一个String()和toString()对转换普通数据和特殊数据的对比：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-289.jpg">
        </code>
        <p>我们再来看通过toString()将一个数值转换为对应参数的进制数的示例：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-290.jpg">
        </code>
        <p>通过这个示例也正好解释了为什么无论是通过parseInt()方法还是通过toString()方法支持的最大进制转换是“三十六进制”，这是因为0~9，共计10个数，可以用单个位数的数值表示，而超出9之后的数值用英文字母A~Z表示（不区分大小写），共计26个数，10加26正好就是36，超出这个范围的参数的进制转换都会报错。</p>
	</section>
	<section>
        <h3>concat()方法</h3>
		<p>string()方法虽然可以将非字符串的值转换为字符串，但在某些应用场景中，尤其是将“数值型”的值进行字符串拼接的时候，这个方法难免会让代码显得有些“臃肿”，这个时候可以使用<em>concat()</em>方法来进行拼接，会使这一操作更加直观，而且它不会改变变量的原始值：</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-089.jpg">
		</code>
		<p>在使用这个方法有一点需要注意，就是用于接收运算结果的变量的值的类型直接决定了拼接运算是否能成功，或者拼接后的结果是什么类型的值。简单一点的说，就是要给拼接结果的变量一个初始值，初始值为字符串的时候，就能接收结果为字符串的值；初始值为数组的时候，就能接收结果为数组的值。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-090.jpg">
		</code>
		<p>另外，使用concat()方法还可以不需要定义一个空变量（空字符串、空数组等）来接收拼接结果，该方法允许参与拼接的变量本身去拼接后续的变量，可以是字符串，也可以是数组，但若为其它类型的变量程序会报错。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-091.jpg">
		</code>
		<p>但该方法在实际运用过程中，除了使用函数中的return关键字返回的结果外，都是需要用一个变量来存储这个拼接的结果的。所以，为了避免记忆的混淆，在使用该方法的时候，我们应该总是先定义好一个具有指定类型值的变量来接收这个方法拼接后的结果。</p>
	</section>
    <section>
	    <h3>slice()方法</h3>
		<p>slice()方法用于从原字符串取出子字符串并返回，不改变原字符串。它的第一个参数是子字符串的开始位置，第二个参数是子字符串的结束位置（不含该位置）。如果省略第二个参数，则表示子字符串一直到原字符串结束。如果参数是负值，表示从结尾开始倒数计算的位置，即该负值加上字符串长度。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-092.jpg">
		</code>
		<p>对于通过下标取值要有一个编程的基本概念，就是程序中的下标是从0开始计位的，而当下标做为负数的时候，是没有“-0”的概念的，所以如果下标是负数，那开始计位的数是从<em>-1</em>开始的。对于slice()方法而言，无论结束的位置为正数还是负数的下标，一般都不包含该下标。了解这一点之后，再看上例控制台的输出结果会更加容易理解一些。</p>
		<p>另外，该方法如果开始的下标小于结束的下标（负数则为开始的下标大于结束的下标），返回的结果则为空“”，这一点可以自行实践。</p>
	</section>
    <section>
		<h3>substring()方法</h3>
		<p>它与slice作用相同，但有一些奇怪的规则，因此不建议使用这个方法，优先使用slice。这些奇怪的规则表现如：</p>
	    <code class="indent">
			<img src="img/code/jscode/code-js-093.jpg">
		</code>
		<p>当开始的下标大于结束的下标，该方法这会自动调整两个值的位置进行输出。如果参数是负数，substring()方法会自动将负数转为0，无论参数是1个还是2个的情况（很多时候我们并不希望这样的结果）。上例中方法内的“-2,-5”相当于被转化成了“0,0”，即开始位和结束位都为0。</p>
	</section>
    <section>
		<h3>substr()方法</h3>
		<p>substr()方法的作用和slice()方法仍然很相似，不同的是当substr()方法配置了第二个参数后，该值不再是指字符串的结束位置，而是<em>字符串的长度（length）</em>了。该方法的参数同样可以为负数，也是从字符串的最后一位开始计数。由于第二位参数表示返回的长度，所以，如果第二位参数的值为负数，那将自动被转化为0，返回的内容为一个空字符串。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-094.jpg">
		</code>
	</section>
    <section>
		<h3>indexOf()方法和lastIndexOf()方法</h3>
		<p>这两个方法用于确定一个字符串在另一个字符串中的位置，都返回一个整数，表示匹配开始的位置。如果返回-1，就表示不匹配。两者的区别在于，indexOf从字符串头部开始匹配，lastIndexOf从尾部开始匹配。但需要注意的是，无论是从开始位置匹配还是从结束位置匹配，返回的数值都是从开始位置也就是从0开始计位的。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-095.jpg">
		</code>
		<p>该方法的在字符串操作的使用场景比较多，如判断用户上传文件的类型，判断当前浏览器类型，用户表单信息的填写是否包含某个必要字符等。例如，现在已经通过获取图片“src”属性得到了用户最新上传的一张图片，然后做出相应的程序处理（为了简化程序，“相应的程序处理”我们仍然用函数在控制台的输出代替）：</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-096.jpg">
		</code>
		<p>在控制台中调用函数“imgUpload”并将获取到的用户图片地址作为参数，运行结果如下：</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-097.jpg">
		</code>
	</section>
    <!-- 章节练习 -->
    <section class="unitPractice">
        <h3>&lt;章节练习一&gt;</h3>
        <p>有一个未知的网址（假设现在的网址为“https://www.baidu.com/index.html”），根据本章所学知识思考并实现以下需求：</p>
        <ol>
        	<li>取出网址中的网络传输协议的类型（可能为：ftp、http、https等）</li>
        	<li>取出网址中当前的文件名及后缀名（假设不知道当前的文件名“index”和文件后缀名“html”）</li>
        	<li>取出网址中的域名部分（baidu.com）</li>
        </ol>
        <p>&lt;提示：&gt;上面的要求有两种实现方式，一种是通过split()方法，另外一种相对较难，需要使用到indexOf()和lastIndexOf()及另外一些字符串操作方法。建议难易两种实现方式都进行一下尝试，以锻炼自己的编程思维。</p>
    </section>
    <section>
		<h3>trim()方法</h3>
		<p>trim()方法是ES5(ECMAScript 2010，即IE8及之前的浏览器不支持)之后新增的一个字符串方法，它是用于去除字符串两端的空格（同时包含换行符“\n”，制表符"\t、\v"和回车符“\r”），返回一个新字符串，不改变原字符串。但若空格及其类似字符包含在字符内部（即字符串开始的首字符和末字符之间），该方法是不能够去除的。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-098.jpg">
		</code>
	</section>
    <section>
		<h3>match()方法</h3>
		<p>match()方法用于确定原字符串是否匹配某个子字符串，返回一个数组，数组元素为匹配的第一个字符串。如果没有找到匹配，则返回null。match()方法还可以使用正则表达式作为参数。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-099.jpg">
		</code>
		<p>该方法配合正则表达的构造函数非常强大，可以用来匹配字符串中同一种类型或者结构的所有的字符串，哪怕从字面上去看它们是不相等的。在一些字符串操作要求较高的应用场景里，该方法会成为“常客”。在“JavaScript函数对象”一章中的“正则表达式RegExp对象”一节中，我们会再次接触到该方法。</p>
	</section>
    <section>
		<h3>search()方法</h3>
		<p>search()方法的用法等同于match()方法，但是返回值为匹配的第一个位置。如果没有找到匹配，则返回-1。search()方法同样可以使用正则表达式作为参数，这是它和indexOf()方法的区别所在。只是需要注意的是，它同样是一个ES5标准后出现的方法。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-100.jpg">
		</code>
	</section>
    <section>
		<h3>replace()方法</h3>
		<p>replace方法用于替换匹配的子字符串，一般情况下只替换第一个匹配（除非使用带有g修饰符的正则表达式），假如没有找到，则不会进行任何替换操作。replace()方法同样可以使用正则表达式作为参数，可以说它经常是配合正则表达式使用。</p>
		<code class="indent">
			<img src="img/code/jscode/code-js-101.jpg">
		</code>
    </section>
    <section>
    	<h3>toLowerCase()和toUpperCase()方法</h3>
    	<p>toLowerCase()方法用于将一个字符串全部转为小写，toUpperCase()则是全部转为大写。它们都返回一个新字符串，不改变原字符串。</p>
    	<p>这两个方法在中文网站里的最大作用就是用于处理一些程序中会返回首字母大写的方法（如：Object.ptopotype.toString.call()方法返回数组中的第二个单词），或返回结果为全部字母大写的属性（如：Event.target.tagName），由于某些方法的返回结果在不同时期和厂家的浏览器上可能会有所差异，考虑到JavaScript是一种对英文大小写敏感的语言，所以有的时候会利用转换大小写的方式让其统一表现，或利于做逻辑判断。</p>
    	<code class="indent">
			<img src="img/code/jscode/code-js-292.jpg">
		</code>
		<p>它们在String原型链中对应的方法是：<em>String.prototype.toUpperCase.call()</em>和<em>String.prototype.toUpperCase.call()</em>，利用这一点，我们可以通过<em>bind()</em>方法可以改变“this指针”的特性去简写这两个方法：</p>
   <code class="indent">
			<img src="img/code/jscode/code-js-293.jpg">
		</code>
    </section>
    <section>
        <h3>字符串方法的组合使用</h3>
        <p>关于字符串的方法需要说明一点，就是这些方法很多都是可以互相嵌套使用的。例如，现在想获取浏览器地址栏内某些信息以助于对浏览器地址信息的更改，就可以用到一个这样的字符串方法的组合：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-102.jpg">
        </code>
        <p>字符串所提供的方法可以帮助自己在处理一些复杂的功能需求的时候有更多的有效应对手段，但这仍然建立在对这些方法足够熟悉的基础上。要想使自己的技术水平高于其它Web前端开发者，就得从一些细节的方法入手，并利用这些方法来完善自己的架构思维。掌握得方法越全面，在进行针对需求实现的思考时，遇到的瓶颈就会越少。</p>
    </section>
    <!-- 章节练习 -->
    <section class="unitPractice">
        <h3>&lt;章节练习二&gt;</h3>
        <p>有这样一串被加密的字符："&nbsp;&nbsp;&nbsp;&nbsp;^_^￥B1%……2f$Df3k#\'$4F#C%gh5@B?E$a@#V6-_-!&nbsp;&nbsp;"，实现以下需求：</p>
        <p>1、去处字符串两端的空格，并输出字符；</p>
        <p>2、取得字符串中的数值型部分的内容，并输出这段数字。</p>
        <p>&lt;提示&gt;使用正则表达式“/\D/”可以匹配到所有“非数字”的字符。</p>
    </section>
    <!-- Base64转码 -->
    <section>
        <h3>Base64转码</h3>
        <p>Base64是一种编码方法，可以将任意字符转成可打印字符。这种编码方法，一开始的作用是为了不显示特殊字符，简化程序的处理。但因为这种编码方式比较复杂，现在使用JavaScript的开发者都少有涉及这种编码方式，所以更多时候都将其作为一种加密手段在使用。该编码提供两个方法来转换字符：</p>
        <dl class="attrExplain">
            <dt>btoa()</dt>
            <dd>将字符串或二进制值转为Base64编码</dd>

            <dt>atob()</dt>
            <dd>将Base64编码转为原来的编码</dd>
        </dl>
        <p>我们先来看一个将普通字符串转换为Base64格式编码，再将该格式转换为普通字符串在控制台中输出的例子：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-085.jpg">
        </code>
        <p>可以从示例中的前两个结果很直观的发现，我们首先是用btoa()将一串普通的字符串“aulence”转换成为了Base64码“YXVsZW5jZQ==”，然后我们将得出的Base64码通过atob()方法将得到的Base64码再次成功地转换成为了普通的字符串“aulence”。示例中的后两个结果我们是对二进制数“0b1001”进行了相同方式的转换，最后得到字符串“9”（若用parseInt(0b1001)，得出的结果为数字9，而不是字符串“9”）。可见这两种方法是可以将字符串和Base64码在两种格式之间互相转换的，但是要注意的是，通过atob()这种方法是不能还原出数值型的值的，这为我们拼接密码字符串提供了便利（因为“+”运算符只能做拼接运算了）。但在模型情况下需要得出的结果是一个数值型的值，那就得用我本章中第第二节内容“数值的转换”提供的三种方法来进行转换了。</p>
        <p>但是在使用这两个方法的时候需要注意的是，这两个方法不支持对<em>非ASC II字符</em>转换为Base64码，否则在浏览器中会报错。如果要对非ASC II的字符进行Base64转码，需要用到两个对URI组件编码的函数：“encodeURIComponent()”函数和“decodeURIComponent()”函数，前者能将字符串作为 URI 组件进行编码，后者能将encodeURIComponent() 函数编码的 URI 进行解码。如例：</p>
        <code class="indent">
            <img src="img/code/jscode/code-js-086.jpg">
        </code>
        <p>利用这个原理，就可以将非ASC II的稍微重要的机密字符串进行这样简单的加密传输，在传输的终端再进行一次解密。这样的方式对于熟悉计算机底层语言的黑客来说也许算不上什么高级手段，但对于一般用户和普通开发人员而言，这样的加密手段肯定是会让他们摸不着北的。但是，稍微高级一点的加密算法通常都不是用一两种编码转换或者几种二进制运算的方式来编写的，这些高级加密算法非常之复杂，令很多从事黑客技术多年的人都“望而生怯”。</p>
        <p>作为一个前端开发者，也许掌握那些高级加密手段一时间没有什么用。但在现在的用户体验设计主流思维方向都在追求着一种便捷性、易用性、效率性，哪怕曾经对安全要求特别高的金融行业、金融软件在现今都让“6位纯数字密码”取代了之前强制要求的“数字+字母组合密码”，类似微信支付、京东支付等这些金融类或电子商务类的App（Application，现在在计算机术语中通常指“移动端的应用软件”）甚至出现了免密支付。这和曾经要求类似“密码至少要求8位，需要以英文字母+数字+符号组成”这样的要求“背道而驰”了，这让很多用户反而对密码的安全产生了顾虑。</p>
        <p>其实针对这个问题大可不必有太多顾虑，因为现在的支付平台都提供了在线冻结支付相关的功能，只要一个电话核对用户相关的信息，只要基本能符合（不要求所有问题都能答得上）即可冻结支付的账户，这为手机不小心遗失提供了一个安全的便捷保障。如果手机还在你手里那就更不用担心了，因为现在的支付平台都是和设备绑定的，也就是同样一个密码只能在同一台设备上进行使用，如果要使用另外一台设备上使用，或者是IP段于原设备不符，都是需要提供绑定设备提供的短信验证码的。所以，就算是支付密码被别人知道了，他们拿去也是什么事也干不了的。而且现在的“6位数字密码”的键盘在绝大部分App上都并非是手机上提供的“原生”数字键盘，而是程序员“自己做”的，这样一来木马程序就无法获取到用户通过键盘输入使产生的“<em title="无论在PC端还是在移动端，键盘上的每个键都对应着一个键值，如PC主键盘区的“Enter”键的键值“keyCode”为数字13，这在我们以后的JavaScript事件的键盘事件一节中会讲到">键值</em>”，也就无法直接地获知用户到底输入的是什么，甚至根本就不认为用户正在进行着输入的行为，截获用户输入就更无从谈起了。</p>
    </section>
    <!-- 章节练习 -->
    <!--<section class="unitPractice">
        <h3>&lt;章节练习一&gt;</h3>
        <p>
    </section>-->

</root>






